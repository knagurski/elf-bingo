<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Elf Bingo</title>
    <style>
      body {
        min-height: 100vh;
        display: grid;
        place-items: center;
        font-family: sans-serif;
        padding: 0;
        margin: 0;
      }

      main {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin: 1rem;
      }

      p {
        font-size: 4rem;
      }

      button {
        font-size: 2rem;
        width: 15rem;
      }
    </style>
  </head>
  <body>
    <main>
      <p>Click below to play</p>
      <button>Play</button>
    </main>

    <script>
      (() => {
        const output = document.querySelector("p");
        const btn = document.querySelector("button");

        const popOption = function* () {
          const options = [
            "baubles",
            "gingerbread man",
            "ornament",
            "cup of cocoa",
            "calendar",
            "snow globe",
            "tree",
            "present",
            "hat",
            "snowman",
            "bell",
            "elf",
            "candy cane",
            "holly",
            "star",
            "cracker",
            "wreath",
            "reindeer",
            "snow cloud",
            "snowflake",
            "ice skate",
            "candle",
            "stockings",
            "santa",
          ].sort(() => (Math.round(Math.random() * 1000) % 2 === 1 ? -1 : 1));

          do {
            yield options.pop();
          } while (options.length);
        };

        const optionGenerator = popOption();

        btn.addEventListener("click", (e) => {
          e.preventDefault();

          const opt = optionGenerator.next();

          if (opt.done) {
            output.textContent = "All done, want to play again?";
            btn.textContent = "Play again";
            btn.addEventListener("click", (e) => {
              e.preventDefault();
              location.reload();
            });
          } else {
            output.textContent = opt.value;
          }
        });
      })();
    </script>
  </body>
</html>
